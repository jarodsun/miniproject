# 主题功能说明

## 新增功能

为Mini CRM系统添加了深色/浅色主题切换功能，用户可以根据个人喜好或环境光线选择合适的主题。

## 功能特性

### 🌙 深色主题
- 深色背景色 (#1a1a1a)
- 浅色文字 (#ffffff)
- 深色导航面板 (#2d2d2d)
- 深色表格和输入框
- 适合在光线较暗的环境中使用

### ☀️ 浅色主题
- 浅色背景色 (#ffffff)
- 深色文字 (#333333)
- 浅色导航面板 (#f8f9fa)
- 浅色表格和输入框
- 适合在光线充足的环境中使用

## 使用方法

1. 启动应用程序
2. 在左侧导航栏底部找到主题切换按钮
3. 点击按钮即可在深色和浅色主题之间切换
4. 主题切换会立即生效，无需重启应用

## 技术实现

### 主题管理器 (ThemeManager)
- 位置: `modules/theme_manager.py`
- 功能: 管理主题状态和样式定义
- 支持主题切换信号通知

### 样式系统
- 使用QSS (Qt Style Sheets) 实现主题样式
- 支持所有UI组件的主题切换
- 包括按钮、输入框、表格、导航面板等

### 组件更新
- 主窗口: 添加主题切换按钮和主题应用逻辑
- 所有模块: 移除硬编码样式，支持主题切换
- Dashboard: 更新卡片样式以支持主题

## 文件修改列表

### 新增文件
- `modules/theme_manager.py` - 主题管理器
- `test_theme.py` - 主题功能测试脚本
- `THEME_FEATURES.md` - 主题功能说明文档

### 修改文件
- `main_window.py` - 添加主题切换功能
- `components/dashboard.py` - 移除硬编码样式
- `modules/products_module.py` - 移除硬编码样式
- `modules/merchants_module.py` - 移除硬编码样式
- `modules/analysis_module.py` - 移除硬编码样式

## 测试方法

### 运行主题测试
```bash
python test_theme.py
```

### 运行完整应用
```bash
python main.py
```

## 主题切换按钮

- **深色模式时**: 显示 "☀️ 浅色模式" (默认)
- **浅色模式时**: 显示 "🌙 深色模式"

## 样式特点

### 深色主题 (默认)
- 主背景: #1a1a1a
- 导航面板: #2d2d2d
- 内容区域: #2d2d2d
- 文字颜色: #ffffff
- 边框颜色: #404040

### 浅色主题
- 主背景: #ffffff
- 导航面板: #f8f9fa
- 内容区域: #ffffff
- 文字颜色: #333333
- 边框颜色: #dee2e6

## 扩展性

主题系统设计为可扩展的，未来可以轻松添加更多主题：
- 高对比度主题
- 护眼主题
- 自定义主题

只需要在 `ThemeManager` 类中添加新的主题定义即可。
